!function(t){"use strict";t.fn.sectionScroll=function(s){var e,i=this,n=t(window),o=1,l=t.extend({bulletsClass:"section-bullets",sectionsClass:"scrollable-section",scrollDuration:1e3,titles:!0,topOffset:0,easing:""},s),a=t("."+l.sectionsClass),c=t('<div class="bullets-container"><ul class="'+l.bulletsClass+'"></ul></div>').prependTo(i).find("ul"),r="";a.each(function(){var s=t(this),e=s.data("section-title")||"";s.attr("id","scrollto-section-"+o);var i=l.titles?"<span>"+e+"</span>":"";r+='<li><a title="'+e+'" href="#scrollto-section-'+o+'">'+i+"</a></li>",o++});var f=t(r).appendTo(c),u=f.map(function(){var s=t(t(this).find("a").attr("href"));if(s[0])return s});return f.on("click",function(s){var e=t(this).find("a").attr("href"),n="#"===e?0:t(e).offset().top;t("html, body").stop().animate({scrollTop:n-l.topOffset},l.scrollDuration,l.easing,function(){i.trigger("scrolled-to-section").stop()}),s.preventDefault()}),n.on("scroll",function(){var s=n.scrollTop()+n.height()/2.5,o=u.map(function(){if(t(this).offset().top<s)return this}),l=(o=o.length>0?o[o.length-1]:[])[0]?o[0].id:"";e!==l&&(a.removeClass("active-section"),t(o).addClass("active-section"),f.removeClass("active").find('a[href="#'+l+'"]').parent().addClass("active"),e=l,t.fn.sectionScroll.activeSection=o,i.trigger("section-reached"))}),t(function(){n.scroll()}),i}}(jQuery);